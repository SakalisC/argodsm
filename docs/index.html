<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Home - ArgoDSM</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link rel="stylesheet" href="style.css">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<nav>
<ul>
	<li><a href="/argodsm/">Home</a></li>
	<li><a href="/argodsm/documentation.html">Documentation</a></li>
	<li><a href="/argodsm/tutorial.html">Tutorial</a></li>
	<li><a href="/argodsm/download.html">Download</a></li>
	<li><a href="/argodsm/about.html">About</a></li>
</ul>
</nav>
<h1 id="argodsm">ArgoDSM</h1>
<p>ArgoDSM is a software distributed shared memory system.</p>
<h2 id="quickstart-guide">Quickstart Guide</h2>
<p>ArgoDSM uses the CMake build system. In the next section, we will describe how to build ArgoDSM from scratch. However, before doing that, some dependencies are required.</p>
<p>If you want to build the documentation, <a href="http://www.stack.nl/~dimitri/doxygen/">doxygen</a> is required.</p>
<p>The only distributed backend ArgoDSM currently supports is the MPI one, so a compiler and libraries for MPI are required. If you are using OpenMPI, make sure you are running at least version 1.8.4. Installing OpenMPI is <a href="https://www.open-mpi.org/faq/?category=building#easy-build">fairly easy</a>, but you should contact your system administrator if you are uncertain about it.</p>
<p>Additionally, ArgoDSM requires <code>libnuma</code> to detect whether it is running on top of NUMA systems, and if so how they are structured internally.</p>
<p>Finally, C and C++ compilers that support the C11 and C++11 standards respectively are required.</p>
<h3 id="building-argodsm">Building ArgoDSM</h3>
<div class="sourceCode"><pre class="sourceCode Bash"><code class="sourceCode bash"><span class="kw">git</span> clone https://github.com/etascale/argodsm.git
<span class="kw">cd</span> argodsm
<span class="kw">cd</span> tests
<span class="kw">wget</span> https://googletest.googlecode.com/files/gtest-1.7.0.zip
<span class="kw">unzip</span> gtest-1.7.0.zip
<span class="kw">cd</span> ..
<span class="kw">mkdir</span> build
<span class="kw">cd</span> build
<span class="kw">cmake</span> -DARGO_BACKEND_MPI=ON        \
      -DARGO_BACKEND_SINGLENODE=ON \
      -DARGO_TESTS=ON              \
      -DBUILD_DOCUMENTATION=ON     \
      -DCMAKE_CXX_COMPILER=mpic++  \
      -DCMAKE_C_COMPILER=mpicc     \
      ../
<span class="kw">make</span>
<span class="kw">make</span> test</code></pre></div>
<p>Initially, you need to get the ArgoDSM sources. If you already have a tarball, you can skip this step and just extract its contents. Otherwise, if you have access to it, you can get the latest code from the Github repository.</p>
<div class="sourceCode"><pre class="sourceCode Bash"><code class="sourceCode bash"><span class="kw">git</span> clone https://github.com/etascale/argodsm.git
<span class="kw">cd</span> argodsm</code></pre></div>
<p>If you are planning on building the ArgoDSM tests (recommended), you also need the <a href="https://code.google.com/p/googletest/">googletest</a> framework. Extract it into the <code>tests</code> folder.</p>
<div class="sourceCode"><pre class="sourceCode Bash"><code class="sourceCode bash"><span class="kw">cd</span> tests
<span class="kw">wget</span> https://googletest.googlecode.com/files/gtest-1.7.0.zip
<span class="kw">unzip</span> gtest-1.7.0.zip
<span class="kw">cd</span> ..</code></pre></div>
<p>CMake supports building in a separate folder. This is recommended for two reasons. First of all, it makes cleaning up much easier. Second, it allows for different builds with different configurations to exist in parallel.</p>
<div class="sourceCode"><pre class="sourceCode Bash"><code class="sourceCode bash"><span class="kw">mkdir</span> build
<span class="kw">cd</span> build</code></pre></div>
<p>In order to generate the makefiles with CMake, you can use either the <code>cmake</code> or the <code>ccmake</code> tool. The difference is that the first one accepts all the build options as command line arguments, while the second one works interactively. Below is an example call to <code>cmake</code> with all the recommended command line arguments. If you plan on contributing to the ArgoDSM source code, you should also enable the <code>ARGO_DEBUG</code> option. After generating the makefiles, then just build the library and executables with a simple make command.</p>
<div class="sourceCode"><pre class="sourceCode Bash"><code class="sourceCode bash"><span class="kw">cmake</span> -DARGO_BACKEND_MPI=ON        \
      -DARGO_BACKEND_SINGLENODE=ON \
      -DARGO_TESTS=ON              \
      -DBUILD_DOCUMENTATION=ON     \
      -DCMAKE_CXX_COMPILER=mpic++  \
      -DCMAKE_C_COMPILER=mpicc     \
      ../
<span class="kw">make</span></code></pre></div>
<p>After the build process has finished, all the executables can be found in the <code>bin</code> directory. It will contain different subdirectories, one for each backend. It is <strong>highly recommended</strong> to run the test suite before proceeding, to ensure that everything is working fine.</p>
<p>If you want to build and manually compile your own applications, you can find the libraries in the <code>lib</code> directory. You need to link with the main <code>libargo</code> library, as well as <em>exactly</em> one of the backend libraries.</p>
<div class="sourceCode"><pre class="sourceCode Bash"><code class="sourceCode bash"><span class="kw">make</span> test</code></pre></div>
<p>Keep in mind that currently even the MPI tests are run on a single node without invoking <code>mpirun</code>. After running the previous command, you should also run the tests with at least 4 nodes. To learn how to run the MPI tests on multiple nodes, proceed to the next section.</p>
<h3 id="running-the-applications">Running the Applications</h3>
<p>For the singlenode backend, the executables can be run like any other normal executable.</p>
<p>For the MPI backend, they need to be run using the matching <code>mpirun</code> application. You should refer to your MPI's vendor documentation for more details. If you are using OpenMPI on a cluster with InfiniBand interconnects, we recommend the following:</p>
<div class="sourceCode"><pre class="sourceCode Bash"><code class="sourceCode bash"><span class="kw">mpirun</span> --map-by ppr:1:node      \
       --mca mpi_leave_pinned 1 \
       --mca btl openib,self,sm \
       -n <span class="ot">${NNODES}</span>             \
       <span class="ot">${EXECUTABLE}</span></code></pre></div>
<p><code>${NNODES}</code> is the number of hardware nodes you have available and <code>${EXECUTABLE}</code> is the application to run. If you are not using InfiniBand, you can use the default OpenMPI transports by skipping the <code>--mca btl openib,self,sm</code> part of the command.</p>
<p>If you are running on a cluster, please consult your system administrator for details on how to access the cluster's resources. We recommend running ArgoDSM applications with one ArgoDSM node per hardware node. We also strongly recommend InfiniBand interconnects when using the MPI backend.</p>
<p>We <strong>strongly recommend</strong> running all of the MPI tests on at least two nodes before continueing working with ArgoDSM, to ensure that your system is configured properly and also that it is fully supported by ArgoDSM.</p>
<h2 id="contributing-to-argodsm">Contributing to ArgoDSM</h2>
<p>If you are interested in contributing to ArgoDSM, do not hesitate to contact us. Please make sure that you understand the license terms.</p>
<h3 id="code-style">Code Style</h3>
<p>See <a href="code-style.html">Code Style</a></p>
<h3 id="code-review-process">Code Review Process</h3>
<p>See <a href="code-style.html">Code Style</a></p>
</body>
</html>
